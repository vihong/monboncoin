(this.webpackJsonpmonboncoin=this.webpackJsonpmonboncoin||[]).push([[0],{31:function(e,t,a){e.exports=a(64)},63:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),s=a.n(c),l=a(69),o=a(70),u=a(71),i=a(3),p=a(4),m=a(6),d=a(5),h=a(7),f=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",null,r.a.createElement("h1",null,r.a.createElement("a",{href:"../"},"monboncoin.fr"),r.a.createElement("span",null,"par Vi Hong.")),r.a.createElement("div",{className:"account"},this.props.accountName?r.a.createElement("img",{src:"https://s3.us-east-2.amazonaws.com/upload-icon/uploads/icons/png/19339625881548233621-256.png",alt:"",width:"80%"}):null,r.a.createElement("p",{className:"account-name"},this.props.accountName)))}}]),t}(r.a.Component),b=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={},a.myInput=r.a.createRef(),a.goToStore=function(e){e.preventDefault();var t=a.myInput.current.value;a.props.push("/mon-compte/".concat(t))},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{action:"",className:"login-form",onSubmit:this.goToStore},r.a.createElement("p",null,"Connexion"),r.a.createElement("hr",null),r.a.createElement("p",null,"Comment vous appelez-vous ?"),r.a.createElement("input",{type:"text",ref:this.myInput,required:!0,placeholder:"Entrez votre pr\xe9nom..."}),r.a.createElement("button",{type:"submit"},"Acc\xe9der \xe0 mon espace"))}}]),t}(r.a.Component),v=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(f,null),r.a.createElement(b,{push:this.props.history.push}))}}]),t}(r.a.Component),g=a(13),E=function(e){return r.a.createElement("header",{className:"top top-header"},r.a.createElement("h2",null,"Annonces en ligne "))};function S(e){return e.toLocaleString("fr-FR",{style:"currency",currency:"EUR",useGrouping:"true"})}var j=a(20),y=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).renderSales=function(e){var t=a.props.products[e],n=a.props.sales[e];t&&t.status;return t?r.a.createElement(j.CSSTransition,{classNames:"order",key:e,timeout:{enter:250,exit:250}},r.a.createElement("li",{key:e,onClick:function(){return a.props.deleteSaleState(e)}},t.name,r.a.createElement("span",null,S(n*t.price),r.a.createElement("button",{onClick:function(){return a.props.deleteSaleState(e)}},"\u2717")))):null},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;if(null!=this.props.sales){var t=Object.keys(this.props.sales),a=t.reduce((function(t,a){var n=e.props.products[a];return n?n&&"available"===n.status?t:t+n.price:null}),0);return r.a.createElement("div",{className:"order-wrap"},r.a.createElement("h2",null,"Vos ventes"),r.a.createElement(j.TransitionGroup,{component:"ul",className:"order"},t.map((function(t){return e.renderSales(t)}))),r.a.createElement("div",{className:"total"},r.a.createElement("strong",null,"Total : ",S(parseFloat(a)))))}}}]),t}(r.a.Component),O=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={},a.nameRef=r.a.createRef(),a.priceRef=r.a.createRef(),a.statusRef=r.a.createRef(),a.descRef=r.a.createRef(),a.imageRef=r.a.createRef(),a.createProduct=function(e){e.preventDefault();var t={name:a.nameRef.current.value,price:parseFloat(a.priceRef.current.value),status:"available",desc:a.descRef.current.value,image:a.imageRef.current.value};a.props.addProductToState(t),e.currentTarget.reset()},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{className:"product-add",onSubmit:this.createProduct},r.a.createElement("input",{name:"name",ref:this.nameRef,type:"text",required:!0,placeholder:"\ud83d\udc53 Produit",maxLength:"20"}),r.a.createElement("input",{name:"price",ref:this.priceRef,type:"number",required:!0,placeholder:"Prix",step:"0.01"}),r.a.createElement("textarea",{name:"desc",ref:this.descRef,placeholder:"\u270d Expliquez pourquoi votre produit est g\xe9nial",maxLength:"200"}),r.a.createElement("input",{name:"image",ref:this.imageRef,type:"text",placeholder:"\ud83d\udcf8 URL de l'image",accept:"image/*"}),r.a.createElement("button",{type:"submit"},"Mettre en vente"))}}]),t}(r.a.Component),N=a(17),C=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){var t=Object(g.a)({},a.props.product,Object(N.a)({},e.currentTarget.name,e.currentTarget.value));console.log(t),a.props.updateProductState(t,a.props.index)},a.handleDelete=function(){a.props.deleteProductState(a.props.index)},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"product-edit"},r.a.createElement("input",{name:"name",onChange:this.handleChange,value:this.props.product.name,ref:this.nameRef,type:"text",required:!0,placeholder:"Produit",maxLength:"35"}),r.a.createElement("input",{name:"price",onChange:this.handleChange,value:this.props.product.price,required:!0,ref:this.priceRef,type:"text",placeholder:"Prix"}),r.a.createElement("textarea",{name:"desc",onChange:this.handleChange,value:this.props.product.desc,ref:this.descRef,placeholder:"Expliquez pourquoi votre produit est g\xe9nial",maxLength:"160"}),r.a.createElement("input",{name:"image",ref:this.imageRef,onChange:this.handleChange,value:this.props.product.image,type:"text",placeholder:"URL de l'image"}),r.a.createElement("button",{onClick:this.handleDelete},"Supprimer de vos annonces"))}}]),t}(r.a.Component),P=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=Object.keys(this.props.products).map((function(t){return r.a.createElement(C,{product:e.props.products[t],key:t,updateProductState:e.props.updateProductState,index:t,deleteProductState:e.props.deleteProductState})})),a=Object.keys(this.props.products);return r.a.createElement("div",{className:"inventory"},r.a.createElement("h2",null,"Inventaire"),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:"demo-button",onClick:this.props.loadSampleProducts},"G\xe9n\xe9rer de fausses annonces ",r.a.createElement("span",null,"\ud83d\udcb0")),r.a.createElement("button",{className:"demo-button deleteAll-button",onClick:this.props.deleteAllProducts},"Supprimer toutes les annonces ",r.a.createElement("span",null,"\u2718"))),r.a.createElement(O,{addProductToState:this.props.addProductToState}),0===a.length?null:r.a.createElement(n.Fragment,null,r.a.createElement("hr",null),r.a.createElement("p",{className:"edit-form-title"},"Editez vos annonces ",r.a.createElement("span",null,"en live"))),r.a.createElement("ul",null,t))}}]),t}(r.a.Component),k=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a.handleClick=function(){a.props.addSaleToState(a.props.index),a.props.changeStatus(a.props.index)},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.details,t=e.name,a=e.price,n=e.status,c=e.desc,s=e.image,l="available"===n;return r.a.createElement("li",{className:"ad-online"},r.a.createElement("div",{className:"product-image"},r.a.createElement("img",{src:s,alt:t})),r.a.createElement("div",{className:"product-text"},r.a.createElement("h3",{className:"product-name"},t),r.a.createElement("span",{className:"price"},S(a)),r.a.createElement("p",null,c),r.a.createElement("button",{disabled:!l,onClick:this.handleClick},l?"Marquer comme vendu":"C'est vendu !"," ")))}}]),t}(r.a.Component),x=function(){return r.a.createElement("div",{className:"no-product-online"},r.a.createElement("p",null,"Vous n'avez rien \xe0 vendre pour l'instant.",r.a.createElement("br",null),r.a.createElement("span",null,'\ud83d\udc49 Utilisez le panel "Inventaire" pour mettre en vente un produit ou cliquez sur "G\xe9n\xe9rer de fausses annonces"...')))},R={product1:{name:"Ecouteurs Bose ETAT NEUF",image:"https://dyw7ncnq1en5l.cloudfront.net/optim/produits/124/41235/bose-soundsport-free_24c5c9526b0df651__450_400.png",desc:"Je les ai chourav \xe0 quelqu'un mais sur la vie de mon chat ils sont trop bien, et j'ai besoin de thune.",price:150,status:"available"},product2:{name:"Bague de fian\xe7aille ETAT NEUF",image:"https://www.aprilparis.com/wp-content/uploads/2017/08/Bague-de-fiancailles-diamant-ethique-DANA-or-rose-equitable.jpg",desc:"Mon copain m'a tromp\xe9e le jour apr\xe8s m'avoir demand\xe9e en mariage. Je vends donc la bague de fian\xe7aille qu'il m'a offerte.",price:1e3,status:"available"},product3:{name:"Guitare Acoustique Folk BON ETAT",image:"https://www.superprof.fr/blog/file/2018/09/cours-guitare-ligne.jpg",desc:"Ca fait 5 ans que j'ai la guitare maintenant. Je la vends pour m'en prendre une \xe9lectro-acoustique",price:80,status:"available"},product4:{name:"Cup Starbucks sp\xe9cial",image:"https://i.pinimg.com/originals/a0/27/27/a02727ed868a36fd23f5ce5ff99b2c03.jpg",desc:"Une jolie serveuse me l'a offerte avec un petit souvenir personalis\xe9 dessus. Elle a une grande valeur sentimentale.",price:50,status:"available"},product5:{name:"Peluche Lotso Disney NEUF",image:"https://s7d9.scene7.com/is/image/DisneyStoreES/412319773887?$sdLargeD$&defaultImage=no%20image-image_fr",desc:"Comme dans le film Toy Story 3, il sent la fraise. On m'en a offert un trop petit pour No\xebl --j'en voulais un en taille jumbo",price:25,status:"available"},product6:{name:"Terrasse de jardin en r\xe9sine tress\xe9e NEUF",image:"https://www.mailleraye.fr/wp-content/uploads/2018/10/salon-jardin-resine-tressee-luxury-caligari-salon-de-jardin-en-rC383-sine-tressC383-e-5-places-terrasse-of-salon-jardin-resine-tressee.jpg",desc:"Parfait pour des repas en famille ou entre amis en \xe9t\xe9 dehors. Ma femme et moi revendons en vue d'une construction d'une baie vitr\xe9e",price:80,status:"available"},product7:{name:"Escarpins bleu marine taille 39",image:"https://img3.leboncoin.fr/ad-image/55303bcf87a015f33c9622c6ed6daebb7c630ba7.jpg",desc:'Tr\xe8s efficaces en soir\xe9e "pour" les mecs (s\xe9duire) et "contre" les mecs (conseil : visez le tibia les filles)',price:50,status:"available"},product8:{name:"MacBook Pro RETINA 2019 quasi-NEUF",image:"https://img0.leboncoin.fr/ad-image/b85f93b5a94313db9049c5961f2764083f979493.jpg",desc:"Je fourni avec le chargeur officiel, une housse de protection, facture d'achat.",price:1250,status:"available"},product9:{name:"Portefeuille Louis Vuitton Homme",image:"https://www.bijouxoccasions.com/31370-large_default/portefeuille-louis-vuitton-multiple-en-toile-monogram-.jpg",desc:"V\xe9ritable porte feuille homme Louis Vuitton. Ce n'est pas une copie. Tr\xe8s bon \xe9tat",price:400,status:"available"}},w=a(27),T=a.n(w),A=a(28),q=a.n(A).a.initializeApp({apiKey:"AIzaSyBnvw3sdRxcixeCCf29F9a88UP-VpNml3k",authDomain:"monboncoin-eaf7d.firebaseapp.com",databaseURL:"https://monboncoin-eaf7d.firebaseio.com"}),F=T.a.createClass(q.database()),U=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={products:{},sales:{}},a.addProductToState=function(e){var t=Object(g.a)({},a.state.products);t["product".concat(Date.now())]=e,a.setState({products:t})},a.loadSampleProducts=function(){a.setState({products:R})},a.addSaleToState=function(e){var t=Object(g.a)({},a.state.sales);t[e]=1,a.setState({sales:t})},a.updateProductState=function(e,t){var n=Object(g.a)({},a.state.products);n[t]=e,a.setState({products:n})},a.deleteProductState=function(e){var t=Object(g.a)({},a.state.products);t[e]=null,a.deleteSaleState(e),a.setState({products:t})},a.deleteSaleState=function(e){var t=Object(g.a)({},a.state.sales),n=Object(g.a)({},a.state.products);delete t[e],n[e].status="available",a.setState({products:n,sales:t})},a.deleteAllProducts=function(){a.setState({products:null,sales:{}})},a.changeStatus=function(e){var t=Object(g.a)({},a.state.products);t[e].status="unavailable",a.setState({products:t})},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params,t=localStorage.getItem(e.dashboard);t&&(console.log("Restoring it"),console.log(JSON.parse(t)),this.setState({sales:JSON.parse(t)})),console.log(t),this.ref=F.syncState("".concat(e.dashboard,"/products"),{context:this,state:"products"})}},{key:"componentDidUpdate",value:function(){console.log(this.state.sales),localStorage.setItem(this.props.match.params.dashboard,JSON.stringify(this.state.sales)),console.log("updated")}},{key:"componentWillUnmount",value:function(){console.log("unmounted"),F.removeBinding(this.ref)}},{key:"render",value:function(){var e=this,t=Object.keys(this.state.products),a=Object.keys(this.state.products).map((function(t){return r.a.createElement(k,{key:t,index:t,details:e.state.products[t],addSaleToState:e.addSaleToState,changeStatus:e.changeStatus})})),c=this.props.match.params.dashboard;return r.a.createElement(n.Fragment,null,r.a.createElement(f,{accountName:c}),r.a.createElement("div",{className:"catch-of-the-day"},r.a.createElement("div",{className:"menu"},r.a.createElement(E,null),r.a.createElement("ul",{className:"fishes"},0===t.length?r.a.createElement(x,null):a)),r.a.createElement(y,{products:this.state.products,sales:this.state.sales,deleteSaleState:this.deleteSaleState}),r.a.createElement(P,{addProductToState:this.addProductToState,loadSampleProducts:this.loadSampleProducts,products:this.state.products,updateProductState:this.updateProductState,deleteProductState:this.deleteProductState,deleteAllProducts:this.deleteAllProducts})))}}]),t}(r.a.Component),z=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(f,null),r.a.createElement("div",{className:"not-found"},r.a.createElement("h1",null,"Nous sommes d\xe9sol\xe9s !",r.a.createElement("br",null),"Erreur page"),r.a.createElement("br",null),r.a.createElement("button",null,r.a.createElement("a",{href:"../"},"Retourner sur la home page "))))},D=function(){return r.a.createElement(l.a,null,r.a.createElement(o.a,null,r.a.createElement(u.a,{exact:!0,path:"/",component:v}),r.a.createElement(u.a,{path:"/mon-compte/:dashboard",component:U}),r.a.createElement(u.a,{component:z})))};a(63);s.a.render(r.a.createElement(D,null),document.querySelector("#main"))}},[[31,1,2]]]);
//# sourceMappingURL=main.2f3343ed.chunk.js.map